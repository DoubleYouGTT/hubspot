<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Authorization for Hubspot APIs • hubspot</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link href="../lockedata.css" rel="stylesheet">
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/hubspot.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/auth.html">Authorization for Hubspot APIs</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Authorization for Hubspot APIs</h1>
            
      
      
      <div class="hidden name"><code>auth.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(hubspot)</a></code></pre></div>
<div id="authorization-for-hubspot-apis" class="section level2">
<h2 class="hasAnchor">
<a href="#authorization-for-hubspot-apis" class="anchor"></a>Authorization for Hubspot APIs</h2>
<p>The Hubspot API accepts authorization via</p>
<ul>
<li><p>an API key,</p></li>
<li><p>OAuth 2.0.</p></li>
</ul>
<p>OAuth 2.0 is the <a href="https://developers.hubspot.com/docs/methods/auth/oauth-overview?_ga=2.108539650.1064389456.1574673541-1134397846.1571640267">recommended method</a>. However, this package supports both.</p>
<p>Note that if you do nothing the package will use the “demo” API token but this won’t give you access to your own Hubspot data. So you’ll need to spend a little time on setup:</p>
<ul>
<li><p>For rapid prototyping key, use a Hubspot API key, see <code><a href="../reference/hubspot-key.html">hubspot_key_set()</a></code>.</p></li>
<li><p>For more secure use, without a daily limit on API calls, see <code><a href="../reference/hubspot-oauth.html">hubspot_token_create()</a></code> to create a Hubspot authorization token (OAuth 2.0).</p></li>
</ul>
<p>If you have both saved an API key via <code><a href="../reference/hubspot-key.html">hubspot_key_set()</a></code> and a token via <code><a href="../reference/hubspot-oauth.html">hubspot_token_create()</a></code>, priority will be given to using the OAuth 2.0 token. If you don’t want that, explicitely pass <code>NULL</code> as value for the <code>token_path</code> argument of all functions.</p>
<div id="token-refreshing" class="section level3">
<h3 class="hasAnchor">
<a href="#token-refreshing" class="anchor"></a>Token refreshing</h3>
<p>If the token expires in less than 60 seconds, it’ll be refreshed and cached thanks to the refresh token.</p>
</div>
</div>
<div id="oauth-2-0-details" class="section level2">
<h2 class="hasAnchor">
<a href="#oauth-2-0-details" class="anchor"></a>OAuth 2.0 details</h2>
<p>We expect you to not <em>need</em> to bring your own app (BYOA), but the <code>app_info</code> parameter of <code><a href="../reference/hubspot-oauth.html">hubspot_token_create()</a></code> ensures you can do that if you want (for instance to define an app with only the scope needed for the endpoints you use as opposed to all the endpoints the <code>hubspot</code> package supports).</p>
<p>To BYOA,</p>
<ul>
<li><p><a href="https://developers.hubspot.com/docs/faq/how-do-i-create-an-app-in-hubspot">Read and execute Hubspot’s docs about how to create an app</a>.</p></li>
<li><p>Define the <code>app_info</code> list.</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">my_very_own_app &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">client_secret =</span> <span class="op">&lt;</span>CLIENTSECRET<span class="op">&gt;</span>,</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">       <span class="dt">client_id =</span> <span class="op">&lt;</span>CLIENTID<span class="op">&gt;</span>,</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">       <span class="dt">app_id =</span> <span class="op">&lt;</span>APPID<span class="op">&gt;</span>,</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">       <span class="dt">scope =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">&lt;</span><span class="st">"scope1"</span>, <span class="st">"scope2"</span>, etc<span class="op">&gt;</span>))</a></code></pre></div>
<ul>
<li>Pass the app info to <code><a href="../reference/hubspot-oauth.html">hubspot_token_create()</a></code>
</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="../reference/hubspot-oauth.html">hubspot_token_create</a></span>(<span class="dt">app_info =</span> my_very_own_app)</a></code></pre></div>
<p>To distribute your app across your projects or across team members, you could make it a function in an internal package, or use environment variables.</p>
</div>
<div id="api-key-details" class="section level2">
<h2 class="hasAnchor">
<a href="#api-key-details" class="anchor"></a>API key details</h2>
<p>To know how to create your Hubspot API key, refer to <a href="https://knowledge.hubspot.com/integrations/how-do-i-get-my-hubspot-api-key">the corresponding section of Hubspot API docs</a>. Hubspot recommends you to re-generate your API key every six months. Only accounts with Super Admin Access can create an API key (at the moment of writing).</p>
<p>Save the API key on your machine using the <code><a href="../reference/hubspot-key.html">hubspot_key_set()</a></code> function, that relies on the <code>keyring</code> package that stores the key in the system default credential store (see <code>keyring</code> docs). If you don’t do that, you’ll have to provide the API key as argument to <code>hubspot</code> functions calling Hubspot APIs.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># Either input the key as parameter</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw"><a href="../reference/hubspot-key.html">hubspot_key_set</a></span>(<span class="st">"yourapikey"</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co"># Or just call the function,</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co"># the key will be asked interactively</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="kw"><a href="../reference/hubspot-key.html">hubspot_key_set</a></span>()</a></code></pre></div>
<p>If no API key is set nor provided as an argument, the “demo” key is used and a message is printed to the screen. As noted earlier, this won’t give you access to your own Hubspot data.</p>
<p>You can check the daily usage related to the API key via <code><a href="../reference/hubspot_api_usage.html">hubspot_api_usage()</a></code>. Calls in the package are rate limited (100 requests every 10 seconds) but there’s also a daily limit on calls.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/hubspot_api_usage.html">hubspot_api_usage</a></span>()</a></code></pre></div>
<p><strong>For a more secure authorization method, without a daily limit on calls, see [<code><a href="../reference/hubspot-oauth.html">hubspot_token_create()</a></code>].</strong></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#authorization-for-hubspot-apis">Authorization for Hubspot APIs</a></li>
      <li><a href="#oauth-2-0-details">OAuth 2.0 details</a></li>
      <li><a href="#api-key-details">API key details</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Steph Locke, Locke Data, Maëlle Salmon. </p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>


      </footer>
</div>

  


  </body>
</html>
