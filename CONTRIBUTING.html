<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Contributing guide • hubspot</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script>
<script src="pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




<link href="lockedata.css" rel="stylesheet">

  </head>

  <body>
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/hubspot.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/auth.html">Authorization for Hubspot APIs</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Contributing guide</h1>
    </div>

<div id="contributing-guide" class="section level1">

<div id="code-of-conduct" class="section level3">
<h3 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h3>
<p>Anyone getting involved in this package agrees to our <a href="CODE_OF_CONDUCT.html">Code of Conduct</a>. If someone is breaking the <a href="https://dontbeadickday.com/">Will Wheaton rule aka <em>Don’t be a dick</em></a>, or breaking the Code of Conduct, please let Steph know at <a href="mailto:steph@itsalocke.com">steph@itsalocke.com</a> or <a href="https://keybase.io/stephlocke">keybase.io/stephlocke</a>.</p>
</div>
<div id="bug-reports" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-reports" class="anchor"></a>Bug reports</h3>
<p>When you file a bug report, please spend some time making it easy for us to follow and reproduce. The more time you spend on making the bug report coherent, the more time we can dedicate to investigate the bug as opposed to the bug report. We recommend using <a href="https://reprex.tidyverse.org/"><code>reprex</code></a> when providing minimal examples.</p>
<p>If you need a secure way to communicate with the maintainer of this package, message her via <a href="https://keybase.io/stephlocke">her Keybase account</a>.</p>
</div>
<div id="ideas" class="section level3">
<h3 class="hasAnchor">
<a href="#ideas" class="anchor"></a>Ideas</h3>
<p>Got an idea for how we can improve the package? Awesome stuff!</p>
<p>Please <a href="issues">raise it in the issue tracker</a> with some succinct information on expected behaviour of the enhancement and why you think it’ll improve the package.</p>
</div>
<div id="package-development" class="section level3">
<h3 class="hasAnchor">
<a href="#package-development" class="anchor"></a>Package development</h3>
<p>We really want people to contribute to the package. A great way to start doing this is to look at the help wanted issues and/or contribute an example.</p>
<p>The package interacts with the Hubspot API so you might need to refer to <a href="developers.hubspot.com/docs/overview">its docs</a>.</p>
<div id="naming-conventions" class="section level4">
<h4 class="hasAnchor">
<a href="#naming-conventions" class="anchor"></a>Naming conventions</h4>
<ul>
<li>
<code>hs_&lt;endpointname&gt;_raw()</code> returns a raw response from an API endpoint</li>
<li>
<code>hs_&lt;endpointname&gt;_tidy()</code> returns a cleaned up table of the entity and some specific set of information from the raw response</li>
<li>
<code>utils-*.R</code> files are used for any toolkit functions</li>
<li>
<a href="//style.tidyverse.org/functions.html#naming">Tidyverse naming conventions</a> are generally adhered to.</li>
</ul>
</div>
<div id="submission-checklist" class="section level4">
<h4 class="hasAnchor">
<a href="#submission-checklist" class="anchor"></a>Submission checklist</h4>
<ul>
<li>When writing a getter function, use a default <code>hs_&lt;endpointname&gt;_raw()</code> that is as minimal as possible to enable a reasonable return.</li>
<li>Add a link to the endpoint documentation in the <code>@description</code> of the manual page. See deals.R</li>
<li>To document parameters that are used in several functions, create a file under man-roxygen/<paramname>.R. If a parameter with the same name but slightly different meaning is used, use the <code>@details</code> section (see how the <code>view</code> parameter is documented). Do not use the same parameter name for vastly different things.</paramname>
</li>
<li>Run <code>devtools::document()</code> to ensure all documentation is updated</li>
<li>Write tests to verify your work. We’re glad to help with that if you’re new to testing! Our tests use vcr cassettes, see e.g. test-deals.R</li>
<li>If you add functionality, do substantial refactoring, extend documentation, or improve the test base, add your info to the <code>DESCRIPTION</code> file</li>
<li>Add a succinct description of the change to the <code>NEWS.md</code> file</li>
<li>There is a <code>styler</code> pre-commit hook that tidies up R function code</li>
<li>When making a Pull Request, reference any issue you’re code fixes with #IssueNo in the body of the PR</li>
</ul>
</div>
</div>
<div id="auth-details-for-development" class="section level3">
<h3 class="hasAnchor">
<a href="#auth-details-for-development" class="anchor"></a>Auth details for development</h3>
<div id="default-app" class="section level4">
<h4 class="hasAnchor">
<a href="#default-app" class="anchor"></a>Default app</h4>
<p>A default app was created under the Locke Data dev account. It’s called “hubspot-pkg-locke-data”, ID 205749.</p>
<p>Another app was created only for the purpose of testing bringing your own app. It’s called “hubspot-byoa-test-pkg”, ID 207639.</p>
</div>
<div id="testing" class="section level4">
<h4 class="hasAnchor">
<a href="#testing" class="anchor"></a>Testing</h4>
<p>In tests/testthat/setup.R, the token path is set to "" and the API key to “demo” which ensures tests are run with the demo key.</p>
<p>For testing access with OAuth, two tokens were created and saved in tests/testthat, see inst/create_test_tokens.R. They were gitignored and Rbuildignored, and encrypted using the workflow <a href="https://cran.r-project.org/web/packages/googlesheets/vignettes/managing-auth-tokens.html#encrypting-tokens-for-hosted-continuous-integration" class="uri">https://cran.r-project.org/web/packages/googlesheets/vignettes/managing-auth-tokens.html#encrypting-tokens-for-hosted-continuous-integration</a> except that they were also Rbuildignored.</p>
<p>Cf <a href="https://docs.travis-ci.com/user/encrypting-files/#encrypting-multiple-files" class="uri">https://docs.travis-ci.com/user/encrypting-files/#encrypting-multiple-files</a></p>
<pre><code>tar cvf tests/testthat/secrets.tar tests/testthat/.hubspot_token.rds tests/testthat/.hubspot_otherapp.rds
travis encrypt-file tests/testthat/secrets.tar
</code></pre>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">use_git_ignore</span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"tests/testthat/secrets.tar"</span>, <span class="st">"tests/testthat/.hubspot_token.rds"</span>, <span class="st">"tests/testthat/.hubspot_otherapp.rds"</span>))</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">use_build_ignore</span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"tests/testthat/secrets.tar"</span>,</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="st">"tests/testthat/secrets.tar.enc"</span>,</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="st">"tests/testthat/.hubspot_token.rds"</span>, <span class="st">"tests/testthat/.hubspot_otherapp.rds"</span>))</a></code></pre></div>
<p>Therefore, R CMD check can’t access them. The tests in tests/testthat/test-oauth.R using the OAuth tokens are skipped when they don’t exist. On Travis CI, the tests are run on their own after R CMD check, so if they fail the build will fail.</p>
<p>To run the tests in locally, if you’re a regular contributor to the package or your contribution touches OAuth, create tokens by running inst/create_test_tokens.R interactively.</p>
</div>
<div id="vignettes-and-example" class="section level4">
<h4 class="hasAnchor">
<a href="#vignettes-and-example" class="anchor"></a>Vignettes and example</h4>
<p>At the moment of writing, no rendered code uses something else than the demo API key.</p>
</div>
</div>
</div>

  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Steph Locke, Locke Data, Maëlle Salmon. </p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>


      </footer>
   </div>

  


  </body>
</html>


